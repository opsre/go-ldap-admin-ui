# 侧边栏版本信息展示功能设计

## 概述

在左侧边栏底部添加版本信息展示区域，显示后端返回的完整版本信息。

## 需求

后端新增接口 `/api/base/version`，返回以下信息：
- version: 版本号
- gitCommit: Git 提交哈希
- buildTime: 构建时间
- goVersion: Go 版本
- platform: 平台信息

## 设计决策

### 1. 显示方式
- **选择**：完整信息展示
- **原因**：左侧边栏内容不多，底部空间充足

### 2. 侧边栏收起时的行为
- **选择**：完全隐藏版本信息
- **原因**：保持收起状态的简洁

### 3. 数据获取时机
- **选择**：每次展开侧边栏时获取
- **原因**：确保显示最新的版本信息

### 4. 错误处理
- **选择**：静默失败
- **原因**：不干扰用户正常使用

## 技术实现

### 架构
1. **API 层**：在 `src/api/system/base.js` 中新增 `getVersion()` 方法
2. **组件层**：创建 `src/layout/components/Sidebar/Version.vue` 组件
3. **集成**：在 `src/layout/components/Sidebar/index.vue` 中集成

### 数据流
```
侧边栏展开 → 触发 API 调用 → 获取版本信息 → 渲染显示
                              ↓ 失败
                           静默处理，不显示
```

## UI 设计

### 展示内容
垂直排列显示：
1. 版本: v1.5.0
2. 提交: dc03d68
3. 构建: 2026-02-06 10:30:45
4. Go: go1.21.5
5. 平台: linux/amd64

### 样式规范
- **位置**：侧边栏底部
- **字体大小**：12px
- **颜色**：menuText 颜色，透明度 0.7
- **间距**：行间距 4-6px，区域 padding 10px
- **背景**：与侧边栏背景一致
- **收起状态**：使用 `v-if="!isCollapse"` 完全隐藏

## 实现清单

- [ ] 在 `src/api/system/base.js` 添加 `getVersion()` API 方法
- [ ] 创建 `src/layout/components/Sidebar/Version.vue` 组件
- [ ] 在 `src/layout/components/Sidebar/index.vue` 中集成 Version 组件
- [ ] 测试侧边栏展开/收起时的显示效果
- [ ] 测试 API 调用失败时的静默处理

## 边界情况

1. **API 调用失败**：静默失败，不显示内容
2. **数据字段缺失**：跳过缺失字段
3. **快速切换侧边栏**：不做防抖处理
4. **移动端**：同样显示在抽屉式侧边栏底部
5. **主题适配**：使用 variables.scss 颜色变量

## 性能考虑

- 版本信息数据量小（几百字节），频繁调用对性能影响可忽略
- 组件无需特殊清理逻辑
